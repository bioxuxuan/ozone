<!DOCTYPE html>
<html >
<head lang="en">
    <meta charset="UTF-8">

    <script type="text/javascript" src="../../ozone.min.js"></script>
    <script type="text/javascript" src="angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
    <link rel="stylesheet" type="text/css" href="angular-demo-style.css">

    <title></title>
</head>
<body ng-app="angularDemo" ng-controller = "DataController as data">

<h1>Ozone Filter, AngularJS Demo</h1>
<h3>Created by Erin Gaschott and Reilly Grant as a 2015 Grinnell College Externship Project </h3>

<div class="main-content">

    <form name="filterForm"  ng-submit="data.updateFilters()">
        <div class="table-header-form">
            Filters
        </div>
        <div class="field-to-filter-name" ng-repeat="filter in allPossibleFilters">
            <fieldset >
                <input type="checkbox"
                       ng-model="filter.applied">
                    {{filter.name}}
                <br>
                <div class="value-selector">
                    <select ng-model="filter.sValue"
                            ng-options="values for values in filter.values"
                            ng-show="filter.applied">
                        <option ng-hide="filter.sValue!==''" value>Select a {{filter.name}}</option>
                    </select>
                </div>
            </fieldset>
        </div>
        <button class="filter-button" ng-disabled="data.cantSubmit()"  ng-click="data.updateFilters()" >Filter</button>
    </form>

    <div class="table">
        <div class="table-header">
            Summer Olympic Medals Won per Category
        </div>

        <div class="field-table" ng-repeat ="field in fields">
            <div class="field">
                {{data.displayField(field)}}
            </div>
            <div class="names-and-values" ng-repeat="occurance in field.valueList"
                 ng-if="data.occuranceValue(field,occurance)">
                <div>
                    <div class="name">{{occurance}}</div>
                    <div class="value">{{data.occuranceValue(field,occurance)}}</div>
                </div>
            </div>
        </div>
    </div>
</div>




</body>
</html>